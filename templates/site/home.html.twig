
{% extends 'base.html.twig' %}

{% block title %}Hello SiteController!{% endblock %}

{% block body %}
<style>


  
html {
  scroll-behavior: smooth;
}
.article{
  padding-bottom:20px;
}
.card-img-top:hover{
}

.card{
  margin:0 auto;
  margin-bottom:50px;
  border:2px solid lightgrey;
  transition: all 0.3s;
  
}
.card:hover{
  
  transform: scale(1.1);
}
h1{
  font-family: 'Lora', serif;
  text-align:center;
}
h2{
  text-align:center;
  font-family: 'Lora', serif;
  padding-bottom:30px;
  padding-top:40px;
  font-weight:bold;
}
.topresto, .topbistro, .topexpo{
  background-color:#e3e7ea;
}
.topresto a, .topbistro a, .topexpo a{
  color:black;
  text-decoration:none;
}
.topresto, .topbistro{
  margin-right:40px;
}


h5.card-title{
  font-family: 'Lora', serif;
  font-weight:bold;
}
.price{
  font-weight:bold;
}
h2 span{
  border-bottom:6px solid #2867cc;
}
.jumbotron {
  position: relative;
  overflow: hidden;
  background-color:black;
  height:calc(100vh - 116px);
  margin-bottom:0;
}
.jumbotron video {
  position: absolute;
  z-index: 1;
  top: 0;
  width:100%;
  height:100%;
  /*  object-fit is not supported on IE  */
  object-fit: cover;
  opacity:0.8;
}
.jumbotron .container-fluid {
  z-index: 2;
  position: relative;
}
.haut{
  
  padding-top:50px
}
.container-top{
  padding-top:50px;
}

.haut-gauche{
  font-size:4vw;
  font-weight:bold;
}
.center-con {
    display: flex;
    align-items: center;
    justify-content: center;
    padding-top:8vh;
}

.round {
    position: relative;
    border: 5px solid #fff;
    width: 100px;
    height: 100px;
    border-radius: 100%;
}

span.fleche {
    z-index: 999;
    height: 3px;
    margin:1px;
    width: 30px;
    background: #fff;
    transition: 0.4s ease;
    font-weight:bold;
}

span.fleche:first-child {
    display: block;
    position: absolute;
    transform: rotate(45deg);
    left: 25%;
    bottom: 35%;
}

span.fleche:nth-child(2) {
    display: block;
    position: absolute;
    transform: rotate(-45deg);
    left: 45%;
    bottom: 35%;
}

span.fleche:nth-child(3) {
    display: block;
    position: absolute;
    transform: rotate(45deg);
    left: 25%;
    bottom: 54%;
}

span.fleche:nth-child(4) {
    display: block;
    position: absolute;
    transform: rotate(-45deg);
    left: 45%;
    bottom: 54%;
}

.round:hover span.fleche:nth-child(1) {
    transform: rotate(-135deg);
}

.round:hover span.fleche:nth-child(2) {
    transform: rotate(135deg);
}

.round:hover span.fleche:nth-child(3) {
    transform: rotate(225deg);
}

.round:hover span.fleche:nth-child(4) {
    transform: rotate(-225deg);
}

</style>

<!-- JUMBOTORN -->

 <div class="jumbotron jumbotron-fluid">

<video autoplay muted loop>    
    <source src="" data-src="{{asset('videos/paris.mp4')}}" type="video/mp4">
</video>

  <div class="container-fluid haut">
    <div class="row">
      <div class="col-4 haut-gauche" style="font-family: 'Lora', serif; color:white;">
        <p style="text-align:center; text-shadow: #000000 1px 1px, #000000 -1px 1px, #000000 -1px -1px, #000000 1px -1px;">Les derniers bons plans c'est par ici !</p>
        <div class="center-con">
          <a href="#container-top">
            <div class="round">
                <span class="fleche"></span>
                <span class="fleche"></span>
                <span class="fleche"></span>
                <span class="fleche"></span>
            </div>
          </a>
    
        </div>
      </div>
      
      <div class="col-8">

      </div>
    </div>
  </div>
  <!-- /.container -->
</div>


<!-- JUMBOTORN END -->


<!-- TOP ARTICLES -->
<div class="container container-top" id="container-top">
  <div class="row tops">

    <!-- TOP RESTO -->
    <div class="col-sm topresto">
      <h2><span>RESTOS</span></h2>
      {% for resto in restos %}
      <a href="{{ path('article_show', {'id': resto.id }) }}">
        <div class="card shadow p-3 mb-5 bg-white rounded" style="width: 18rem;">
          <img class="card-img-top img-thumbnail" src="{{ asset('images/articles/'~ resto.image)}}" alt="Card image cap">
          <div class="card-body">
            <h5 class="card-title">{{resto.name}}</h5>
            <p class="card-text price">~{{resto.price}}€</p>
            <span class="card-text" style="font-style:italic; color:grey; float:left;">{{resto.createdAt|date("d/m/Y")}}</span>
          </div>
        </div>
      </a>
      {% endfor %}
    </div>

    <!-- TOP BISTRO -->
    <div class="col-sm topbistro">
    <h2><span>BISTROS</span></h2>
      {% for bistro in bistros %}
      <a href="{{ path('article_show', {'id': bistro.id }) }}">
        <div class="card shadow p-3 mb-5 bg-white rounded" style="width: 18rem;">
          <img class="card-img-top img-thumbnail" src="{{ asset('images/articles/'~ bistro.image)}}" alt="Card image cap">
          <div class="card-body">
            <h5 class="card-title">{{bistro.name}}</h5>
            <p class="card-text price">~{{bistro.price}}€</p>
            <span class="card-text" style="font-style:italic; color:grey; float:left;">{{bistro.createdAt|date("d/m/Y")}}</span>
          </div>
        </div>
      </a>
      {% endfor %}
    </div>

    <!-- TOP EXPO -->
    <div class="col-sm topexpo">
      <h2><span>EXPOS</span></h2>
      {% for expo in expos %}
      <a href="{{ path('article_show', {'id': expo.id }) }}">
        <div class="card shadow p-3 mb-5 bg-white roundedS" style="width: 18rem;">
          <img class="card-img-top img-thumbnail" src="{{ asset('images/articles/'~ expo.image)}}" alt="Card image cap">
          <div class="card-body">
            <h5 class="card-title">{{expo.name}}</h5>
            {% if expo.price > 0 %}
            <p class="card-text price">~{{expo.price}}€</p>
            {% else %}
            <p class="card-text price">GRATUIT</p>
            {% endif %}
            <span class="card-text" style="font-style:italic; color:grey; float:left;">{{expo.createdAt|date("d/m/Y")}}</span>
          </div>
        </div>
      </a>
      {% endfor %}
    </div>

    

    


  </div>
</div>
<!-- TOP ARTICLES END -->
<script>
function deferVideo() {

    //defer html5 video loading
  $("video source").each(function() {
    var sourceFile = $(this).attr("data-src");
    $(this).attr("src", sourceFile);
    var video = this.parentElement;
    video.load();
    // uncomment if video is not autoplay
    //video.play();
  });

}
window.onload = deferVideo;

</script>
{% endblock %}
